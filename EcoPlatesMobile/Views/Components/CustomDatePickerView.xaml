<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EcoPlatesMobile.Views.Components.CustomDatePickerView"
             xmlns:local="clr-namespace:EcoPlatesMobile.Views.Components"
             BackgroundColor="Transparent"
             IsVisible="False"
             x:DataType="local:CustomDatePickerView">
 
 <Grid>
        <!-- Full-screen overlay (closes picker when tapped) -->
        <BoxView BackgroundColor="Black" Opacity="0.5">
            <BoxView.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnOverlayTapped"/>
            </BoxView.GestureRecognizers>
        </BoxView>

        <!-- Picker Panel -->
        <Frame x:Name="PickerFrame"
               BackgroundColor="White"
               CornerRadius="20"
               Padding="10"
               Margin="0,0,0,30"
               HeightRequest="300"
               VerticalOptions="End"
               TranslationY="300">

            <!-- Wrap the contents inside StackLayout -->
            <StackLayout>
                <!-- Title -->
                <Label Text="Select Date" FontSize="20" HorizontalOptions="Center"/>

                <!-- Picker Grid -->
                <Grid ColumnDefinitions="*,*,*">
                    <!-- Date Picker -->
                    <CollectionView x:Name="DateList"
                                    SelectionMode="Single"
                                    HeightRequest="200"
                                    VerticalScrollBarVisibility="Never">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding}" FontSize="20" HorizontalOptions="Center"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>

                    <!-- Hour Picker -->
                    <CollectionView x:Name="HourList"
                                    SelectionMode="Single"
                                    HeightRequest="200"
                                    VerticalScrollBarVisibility="Never">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding}" FontSize="20" HorizontalOptions="Center"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>

                    <!-- Minute Picker -->
                    <CollectionView x:Name="MinuteList"
                                    SelectionMode="Single"
                                    HeightRequest="200"
                                    VerticalScrollBarVisibility="Never">
                    <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding}" FontSize="20" HorizontalOptions="Center"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </Grid>

                <!-- Confirm Button -->
                <Button Text="Tasdiqlash"
                        BackgroundColor="Green"
                        TextColor="White"
                        Clicked="OnConfirmClicked"
                        Margin="10"/>
            </StackLayout>
        </Frame>
    </Grid>
</ContentView>
