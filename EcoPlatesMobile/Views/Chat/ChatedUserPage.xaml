<?xml version="1.0" encoding="utf-8" ?>
<page:BasePage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:page="clr-namespace:EcoPlatesMobile.Views"
               xmlns:component="clr-namespace:EcoPlatesMobile.Views.Components"
               xmlns:language="clr-namespace:EcoPlatesMobile.Resources.Languages"
               x:Class="EcoPlatesMobile.Views.Chat.ChatedUserPage">
    
    <Grid RowDefinitions="Auto, *">
          <component:CustomHeader x:Name="header"
                                  Title="{x:Static language:AppResource.Message}"
                                  HeaderBackground="{StaticResource Company}"/>
           <RefreshView x:Name="listProduct"
                         IsRefreshing="{Binding IsRefreshing}"
                         Command="{Binding RefreshCommand}"
                         Margin="10"
                         Grid.Row="1">
                <CollectionView ItemsSource="{Binding Products}"
                                RemainingItemsThreshold="1"
                                RemainingItemsThresholdReachedCommand="{Binding LoadMoreCommand}">
                    <CollectionView.ItemsLayout>
                        <GridItemsLayout Orientation="Vertical" 
                                         VerticalItemSpacing="10"
                                         HorizontalItemSpacing="10"/>
                    </CollectionView.ItemsLayout>
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <!--<SwipeView>
                                <SwipeView.RightItems>
                                    <SwipeItems>
                                        <SwipeItem Text="{x:Static language:AppResource.Edit}"
                                                   BackgroundColor="{StaticResource Company}"
                                                   Invoked="EditProduct_Invoked"/>
                                        <SwipeItem Text="{x:Static language:AppResource.Inactive}"
                                                   BackgroundColor="Red"
                                                   Invoked="NoActiveProduct_Invoked"/>
                                    </SwipeItems>
                                </SwipeView.RightItems>
                                 
                            </SwipeView>-->
                            <Grid ColumnDefinitions="Auto, *, Auto">
                                <Border WidthRequest="50"
                                        HeightRequest="50"
                                        Stroke="Gray"
                                        StrokeThickness="0.2"
                                        StrokeShape="RoundRectangle 100"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center"
                                        Margin="0,0,20,0"
                                        Grid.Column="2"
                                        Grid.RowSpan="2">
                                    <Image Source="{Binding UserImage}"
                                           Aspect="AspectFill"
                                           WidthRequest="64"
                                           HeightRequest="64"/>
                                </Border>
                                <Label Text="{Binding UserName}"
                                       TextColor="Black"
                                       FontSize="16"
                                       VerticalOptions="Center"
                                       HorizontalOptions="Start"
                                       Grid.Column="1"/>
                                <Image Source="right.png"
                                       Aspect="AspectFit"
                                       VerticalOptions="Center"
                                       Grid.Column="2"/>
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </RefreshView>
    </Grid>
</page:BasePage>